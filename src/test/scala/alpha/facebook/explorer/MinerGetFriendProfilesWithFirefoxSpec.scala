package alpha.facebook.explorer

import org.openqa.selenium.firefox.FirefoxDriver
import org.scalatest.matchers.MustMatchers
import org.openqa.selenium.WebDriver
import org.scalatest.{Spec, BeforeAndAfterEach}

/**
 * Created by IntelliJ IDEA.
 * User: phuongnd08
 * Date: Oct 12, 2010
 * Time: 11:13:15 PM
 * To change this template use File | Settings | File Templates.
 */

class MinerGetFriendProfilesWithFirefoxSpec extends Spec with MustMatchers with BeforeAndAfterEach {
  var driver: WebDriver = _
  var miner: Miner = _

  override def beforeEach {
    driver = new FirefoxDriver
    miner = new Miner(driver)
  }

  describe("get friend profiles using firefox") {
    it("should report all friends profiles") {
      miner.login
      def shorten(url:String) = if (QueueActor.isFacebookIdForm(url)) QueueActor.getFacebookId(url) else QueueActor.getFacebookNickName(url)
      val list = List("100000001244131", "100000014536363", "100000020203880", "100000029265158", "100000041092708", "100000047096395", "100000052303427", "100000054854674", "100000061751478",
"100000068831554", "100000074868776", "100000075103450", "100000079510574", "100000084793605", "100000097565550", "100000101690288", "100000101920394", "100000113648543",
"100000118152569", "100000119456982", "100000123106972", "100000123642515", "100000134377811", "100000136955672", "100000141917065", "100000144867408", "100000149220402",
"100000149790352", "100000157174643", "100000157554812", "100000172665797", "100000183060445", "100000185230962", "100000186081029", "100000191925192", "100000193288246",
"100000195861348", "100000199336284", "100000199693156", "100000200632518", "100000201816898", "100000206556424", "100000206924778", "100000215095270", "100000218435164",
"100000222734415", "100000231738564", "100000235291034", "100000240017401", "100000247361260", "100000248657129", "100000249738808", "100000250023715", "100000250394245",
"100000263183113", "100000272147513", "100000274458502", "100000279738759", "100000323325945", "100000323890455", "100000336508110", "100000338513286", "100000342025490", "100000344146417",
"100000347793344", "100000354970838", "100000360288290", "100000377131118", "100000399080735", "100000400069551", "100000401455389", "100000424247533", "100000427702344",
"100000428303060", "100000441866505", "100000452185025", "100000453272293", "100000462668761", "100000470348048", "100000481095686", "100000519741802", "100000551532581",
"100000761842961", "100000765334237", "100000880823706", "100000993442765", "100001017350257", "100001076702403", "100001155973464", "100001275096427", "100001332332884",
"100001633740429", "100001638752004", "100001677857311", "100001742880897", "1019922670", "1021303894", "1024925020", "1045362581", "1094938033", "1149834887", "1173519477",
"1194400156", "1221764974", "1234572893", "1268848452", "1269533644", "1279258028", "1298888973", "1420885900", "1437441295", "1439988209", "1479176215", "1480581615",
"1535539482", "1536616243", "1544741160", "1567390988", "1578244973", "1592958035", "1612843911", "1623468329", "1645107444", "1655169716", "1663752810", "1671213038",
"1693200452", "1700293499", "1704270309", "1717287163", "1719146181", "1740557530", "1782315977", "1789843595", "1791729837", "1793470287", "1798161983", "1802877948",
"1810071526", "1810585737", "1813610294", "1816812987", "1828512781", "1837345791", "1839510883", "531309511", "550179448", "588033112", "599948906", "610459355",
"610474525", "613199455", "626064182", "654307798", "710090978", "721690002", "754278359", "760588079", "804577963", "850634235", "899550194",
"Alexander.Nguyen.V", "Brucelee118", "Dark.Musketter", "Fankusin", "HatDeDzuiDze", "Hollyiu88", "MEOUU", "NguyenDuyKhoa",
"Nhiephong264", "Pipi.nguyen", "Sweetie2209", "VanThuyen", "Xu7luv", "andie.nguyentunganh", "annie.tang2", "au.m.ngoc",
"barcab", "bitboong", "bomot113", "chopnguyentuvip", "cyannam", "danvanphong", "dumangel", "ha.v.le", "haibui81",
"hatrang87", "hoailinhhoi", "hotanhung", "hungvv07", "huyvtq", "janti1710", "khoaitay3",
"khong.giang", "kmstechnology", "le.nga", "leminhkhoi.it", "maimozart", "myuvumaianh", "nguyenthienhuy.vnn.vn",
"nguyenthutrang", "nguyenthuyhonganh", "nhanam.bach", "nhudanghai", "phamduchai", "phuongaxl", "piper.tram",
"quyenbc.fab", "quynhlai", "seal91", "thaivancuong1987", "thanh.viet", "thucanhstrawberry", "thy.nguyen2",
"tomliz", "tranminhhuy19121987", "vamp.tran", "viettuananh", "vohongphuc", "vuduynguyen", "ycicom", "yoyo.oko",
"yuKen", "zuanoc")
      
      miner.getFriendProfiles("581175558").map(shorten).toList.sorted must be(list)
    }
  }

  override def afterEach {
    driver.close
  }
}
